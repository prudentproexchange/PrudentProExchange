<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deposit - Your Platform</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/deposit.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Video Background -->
    <video autoplay muted loop playsinline id="bg-video">
        <source src="assets/videos/background.mp4" type="video/mp4">
    </video>
    <div class="overlay"></div>

    <!-- Header -->
    <header>
        <div class="logo">
            <img src="assets/images/logo.png" alt="Logo">
        </div>
        <div class="header-right">
            <button id="theme-toggle" aria-label="Toggle Theme">
                <i class="fas fa-moon"></i>
            </button>
            <button class="hamburger" aria-label="Toggle Navigation">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Navigation Drawer -->
    <nav class="nav-drawer">
        <a href="dashboard.html">Dashboard</a>
        <a href="invest.html">Invest</a>
        <a href="deposit.html" class="active">Deposit</a>
        <a href="withdraw.html">Withdraw</a>
        <a href="transactions.html">Transactions</a>
        <a href="referrals.html">Referrals</a>
        <div class="account-menu">
            <a href="#" id="account-toggle">Account <i class="fas fa-caret-down"></i></a>
            <div class="account-dropdown">
                <a href="profile.html">Profile</a>
                <a href="settings.html">Settings</a>
                <a href="#" id="logout">Logout</a>
            </div>
        </div>
        <a href="kyc.html">KYC Verification</a>
        <a href="transfer.html">Transfer</a>
    </nav>

    <!-- Profile Section -->
    <section class="profile-section">
        <img src="assets/images/default-avatar.png" alt="User Avatar" id="user-avatar" class="avatar">
        <h1>Welcome to Your Deposit Page, <span id="welcomeName">User</span>!</h1>
    </section>

    <!-- Main Content: Deposit Cards -->
    <main>
        <section class="deposit-section">
            <h2>Choose Your Deposit Method</h2>
            <div class="deposit-grid">
                <!-- Bitcoin Card -->
                <div class="card deposit-card" data-aos="zoom-in">
                    <img src="assets/images/bitcoin.png" alt="Bitcoin" class="crypto-image">
                    <h3>Bitcoin (BTC)</h3>
                    <p>Limit: 20 - 100,000,000 USD</p>
                    <p>Charge: 0 USD + 0%</p>
                    <a href="payment.html?crypto=btc" class="btn deposit-btn">Deposit</a>
                </div>
                <!-- Ethereum Card -->
                <div class="card deposit-card" data-aos="zoom-in">
                    <img src="assets/images/ethereum.png" alt="Ethereum" class="crypto-image">
                    <h3>Ethereum (ETH)</h3>
                    <p>Limit: 20 - 100,000,000 USD</p>
                    <p>Charge: 0 USD + 0%</p>
                    <a href="payment.html?crypto=eth" class="btn deposit-btn">Deposit</a>
                </div>
                <!-- Tether Card -->
                <div class="card deposit-card" data-aos="zoom-in">
                    <img src="assets/images/tether.png" alt="Tether" class="crypto-image">
                    <h3>Tether (USDT)</h3>
                    <p>Limit: 20 - 100,000,000 USD</p>
                    <p>Charge: 0 USD + 0%</p>
                    <a href="payment.html?crypto=usdt" class="btn deposit-btn">Deposit</a>
                </div>
                <!-- USD Coin Card -->
                <div class="card deposit-card" data-aos="zoom-in">
                    <img src="assets/images/usd-coin.png" alt="USD Coin" class="crypto-image">
                    <h3>USD Coin (USDC)</h3>
                    <p>Limit: 20 - 100,000,000 USD</p>
                    <p>Charge: 0 USD + 0%</p>
                    <a href="payment.html?crypto=usdc" class="btn deposit-btn">Deposit</a>
                </div>
                <!-- Binance Coin Card -->
                <div class="card deposit-card" data-aos="zoom-in">
                    <img src="assets/images/binance-coin.png" alt="Binance Coin" class="crypto-image">
                    <h3>Binance Coin (BNB)</h3>
                    <p>Limit: 20 - 100,000,000 USD</p>
                    <p>Charge: 0 USD + 0%</p>
                    <a href="payment.html?crypto=bnb" class="btn deposit-btn">Deposit</a>
                </div>
                <!-- Litecoin Card -->
                <div class="card deposit-card" data-aos="zoom-in">
                    <img src="assets/images/litecoin.png" alt="Litecoin" class="crypto-image">
                    <h3>Litecoin (LTC)</h3>
                    <p>Limit: 20 - 100,000,000 USD</p>
                    <p>Charge: 0 USD + 0%</p>
                    <a href="payment.html?crypto=ltc" class="btn deposit-btn">Deposit</a>
                </div>
                <!-- Tron Card -->
                <div class="card deposit-card" data-aos="zoom-in">
                    <img src="assets/images/tron.png" alt="Tron" class="crypto-image">
                    <h3>Tron (TRX)</h3>
                    <p>Limit: 20 - 100,000,000 USD</p>
                    <p>Charge: 0 USD + 0%</p>
                    <a href="payment.html?crypto=trx" class="btn deposit-btn">Deposit</a>
                </div>
                <!-- Solana Card -->
                <div class="card deposit-card" data-aos="zoom-in">
                    <img src="assets/images/solana.png" alt="Solana" class="crypto-image">
                    <h3>Solana (SOL)</h3>
                    <p>Limit: 20 - 100,000,000 USD</p>
                    <p>Charge: 0 USD + 0%</p>
                    <a href="payment.html?crypto=sol" class="btn deposit-btn">Deposit</a>
                </div>
                <!-- XRP Card -->
                <div class="card deposit-card" data-aos="zoom-in">
                    <img src="assets/images/xrp.png" alt="XRP" class="crypto-image">
                    <h3>XRP (Ripple)</h3>
                    <p>Limit: 20 - 100,000,000 USD</p>
                    <p>Charge: 0 USD + 0%</p>
                    <a href="payment.html?crypto=xrp" class="btn deposit-btn">Deposit</a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <p>&copy; 2023 Your Platform. All rights reserved.</p>
            <div class="footer-links">
                <a href="terms.html">Terms</a>
                <a href="privacy.html">Privacy</a>
                <a href="contact.html">Contact</a>
            </div>
            <div class="time-date">
                <span id="time"></span> | <span id="date"></span>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="back-to-top" aria-label="Back to Top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // Supabase Initialization
        const supabase = Supabase.createClient('https://iwkdznjqfbsfkscnbrkc.supabase.co', 'your-anon-key-here');

        // Initialize AOS
        AOS.init();

        // Navigation Drawer Toggle
        const hamburger = document.querySelector('.hamburger');
        const navDrawer = document.querySelector('.nav-drawer');
        hamburger.addEventListener('click', () => {
            navDrawer.classList.toggle('open');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Theme Toggle
        const themeToggle = document.getElementById('theme-toggle');
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('light-theme');
            const icon = themeToggle.querySelector('i');
            icon.classList.toggle('fa-moon');
            icon.classList.toggle('fa-sun');
            localStorage.setItem('theme', document.body.classList.contains('light-theme') ? 'light' : 'dark');
        });
        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-theme');
            themeToggle.querySelector('i').classList.replace('fa-moon', 'fa-sun');
        }

        // Account Menu Toggle
        const accountToggle = document.getElementById('account-toggle');
        const accountDropdown = document.querySelector('.account-dropdown');
        accountToggle.addEventListener('click', (e) => {
            e.preventDefault();
            accountDropdown.classList.toggle('show');
        });

        // Back to Top
        const backToTop = document.getElementById('back-to-top');
        window.addEventListener('scroll', () => {
            backToTop.style.display = window.scrollY > 200 ? 'block' : 'none';
        });
        backToTop.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

        // Update Time and Date
        function updateTimeDate() {
            const now = new Date();
            document.getElementById('time').textContent = now.toLocaleTimeString();
            document.getElementById('date').textContent = now.toLocaleDateString();
        }
        setInterval(updateTimeDate, 1000);
        updateTimeDate();

        // Load Profile Data
        async function loadProfile() {
            const { data: { user } } = await supabase.auth.getUser();
            if (user) {
                const { data, error } = await supabase
                    .from('profiles')
                    .select('first_name, avatar_url')
                    .eq('id', user.id)
                    .single();
                if (data && !error) {
                    document.getElementById('welcomeName').textContent = data.first_name || 'User';
                    if (data.avatar_url) {
                        const { data: urlData } = supabase.storage
                            .from('profile-photos')
                            .getPublicUrl(data.avatar_url);
                        document.getElementById('user-avatar').src = urlData.publicUrl;
                    }
                }
            }
        }
        loadProfile();

        // Logout
        document.getElementById('logout').addEventListener('click', async () => {
            await supabase.auth.signOut();
            window.location.href = 'login.html';
        });
    </script>
</body>
</html>
