<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Apex Holdings</title>
  <style>
    /* Inline CSS for completeness; in a real project, this would be in a separate file */
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      background: #f0f2f5;
      color: #333;
    }
    .overlay {
      position: relative;
      min-height: 100vh;
    }
    .site-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }
    .logo-link img {
      height: 60px; /* Large logo as requested */
      width: auto;
    }
    .hamburger {
      display: none;
      background: none;
      border: none;
      cursor: pointer;
    }
    .hamburger span {
      display: block;
      width: 25px;
      height: 3px;
      background: #333;
      margin: 5px 0;
    }
    .nav-drawer {
      display: flex;
      gap: 2rem;
    }
    .nav-drawer a {
      color: #333;
      text-decoration: none;
      font-weight: 500;
    }
    .nav-drawer a:hover {
      color: #007bff;
    }
    .nav-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 998;
    }
    .nav-drawer:target + .nav-overlay {
      display: block;
    }
    .profile-section {
      text-align: center;
      padding: 2rem 0;
    }
    .avatar {
      width: 80px;
      height: 80px;
      background: #007bff;
      color: #fff;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      margin-bottom: 1rem;
    }
    .welcome-message {
      font-size: 1.5rem;
      font-weight: 500;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }
    .card {
      background: rgba(255, 255, 255, 0.8);
      border-radius: 16px;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(5px);
      padding: 1.5rem;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }
    .card h2 {
      margin: 0 0 1rem;
      font-size: 1.25rem;
      color: #333;
    }
    .investment-card .btn {
      display: block;
      margin: 1rem auto;
      padding: 0.75rem 1.5rem;
      background: #007bff;
      color: #fff;
      text-decoration: none;
      border-radius: 8px;
      text-align: center;
      width: fit-content;
    }
    .investment-card .btn:hover {
      background: #0056b3;
    }
    .transaction-history h2 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    #txTable {
      width: 100%;
      border-collapse: collapse;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 8px;
      overflow: hidden;
    }
    #txTable th, #txTable td {
      padding: 1rem;
      text-align: left;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }
    #txTable th {
      background: rgba(0, 123, 255, 0.1);
    }
    .site-footer {
      background: rgba(255, 255, 255, 0.1);
      padding: 2rem;
      text-align: center;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
    }
    .footer-links a {
      color: #333;
      margin: 0 1rem;
      text-decoration: none;
    }
    #back-to-top {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      background: #007bff;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
    }
    @media (max-width: 768px) {
      .hamburger {
        display: block;
      }
      .nav-drawer {
        display: none;
        position: fixed;
        top: 0;
        right: 0;
        width: 250px;
        height: 100%;
        background: #fff;
        padding: 2rem;
        flex-direction: column;
        z-index: 999;
      }
      .nav-drawer:target {
        display: flex;
      }
    }
  </style>
</head>
<body>
  <div class="overlay">
    <header class="site-header">
      <a href="/" class="logo-link">
        <img src="logo.png" alt="Apex Holdings Logo">
      </a>
      <button class="hamburger" onclick="document.getElementById('nav').style.display='block'"></button>
      <div class="nav-overlay" onclick="document.getElementById('nav').style.display='none'"></div>
      <nav class="nav-drawer" id="nav">
        <a href="/dashboard">Dashboard</a>
        <a href="/deposit">Deposit</a>
        <a href="/withdraw">Withdraw</a>
        <a href="/invest">Invest</a>
        <div class="account-menu">
          <a href="#" class="account-toggle">Account</a>
          <ul class="submenu">
            <li><a href="/profile">Profile</a></li>
            <li><a href="/settings">Settings</a></li>
            <li><a href="/logout">Logout</a></li>
          </ul>
        </div>
      </nav>
    </header>

    <section class="profile-section">
      <div class="profile-container">
        <div class="avatar">U</div>
      </div>
      <p class="welcome-message">Welcome, User!</p>
    </section>

    <main class="dashboard-page container">
      <div class="cards-grid">
        <div class="card">
          <h2>Account Balance</h2>
          <p>$0.00</p>
        </div>
        <div class="card">
          <h2>Recent Transactions</h2>
          <ul>
            <li>No recent transactions</li>
          </ul>
        </div>
        <!-- Investment Calculator Card -->
        <div class="card investment-card">
          <h2>Investment Calculator</h2>
          <div id="investment-status"></div>
        </div>
      </div>

      <section class="transaction-history">
        <h2>Transaction History</h2>
        <table id="txTable">
          <thead>
            <tr>
              <th>Date</th>
              <th>Type</th>
              <th>Amount</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <!-- Populated dynamically or left empty -->
          </tbody>
        </table>
      </section>
    </main>

    <footer class="site-footer">
      <div class="footer-content">
        <p>&copy; 2025 Apex Holdings. All rights reserved.</p>
        <div class="footer-links">
          <a href="/privacy">Privacy Policy</a>
          <a href="/terms">Terms of Service</a>
          <a href="/contact">Contact Us</a>
        </div>
      </div>
    </footer>

    <button id="back-to-top" onclick="window.scrollTo(0,0)">â†‘</button>
  </div>

  <script>
    // Investment Calculator Logic
    const investmentStatus = document.getElementById('investment-status');
    const hasInvestment = true; // Toggle to false to show "No active investment" state

    if (hasInvestment) {
      const investedAmount = 1000; // Example amount in dollars
      const startTime = new Date();
      const durationDays = 30; // Investment duration
      const endTime = new Date(startTime.getTime() + durationDays * 24 * 60 * 60 * 1000);
      const totalProfit = 100; // Total profit at end of cycle
      const totalSeconds = durationDays * 24 * 60 * 60;
      const profitPerSecond = totalProfit / totalSeconds; // Incremental profit

      // Initial display
      investmentStatus.innerHTML = `
        <p>Invested Amount: $<span id="invested-amount">${investedAmount}</span></p>
        <p>Current Profit: $<span id="current-profit">0.00</span></p>
        <p>Time Left: <span id="time-left">${formatTimeLeft(endTime - startTime)}</span></p>
      `;

      // Update profit and time every second
      const interval = setInterval(() => {
        const currentTime = new Date().getTime();
        if (currentTime >= endTime.getTime()) {
          clearInterval(interval);
          document.getElementById('current-profit').textContent = totalProfit.toFixed(2);
          document.getElementById('time-left').textContent = '0d 0h 0m 0s';
          const message = document.createElement('p');
          message.textContent = 'Investment cycle ended. Funds are in your interest wallet.';
          investmentStatus.appendChild(message);
        } else {
          const elapsedSeconds = (currentTime - startTime.getTime()) / 1000;
          const currentProfit = Math.min(elapsedSeconds * profitPerSecond, totalProfit);
          document.getElementById('current-profit').textContent = currentProfit.toFixed(2);
          const timeLeftMs = endTime.getTime() - currentTime;
          document.getElementById('time-left').textContent = formatTimeLeft(timeLeftMs);
        }
      }, 1000);
    } else {
      investmentStatus.innerHTML = `
        <p>No active investment.</p>
        <a href="/invest" class="btn">Invest Now</a>
      `;
    }

    // Function to format remaining time
    function formatTimeLeft(ms) {
      const seconds = Math.floor(ms / 1000);
      const days = Math.floor(seconds / (24 * 3600));
      const hours = Math.floor((seconds % (24 * 3600)) / 3600);
      const minutes = Math.floor((seconds % 3600) / 60);
      const secs = seconds % 60;
      return `${days}d ${hours}h ${minutes}m ${secs}s`;
    }
  </script>
</body>
</html>
